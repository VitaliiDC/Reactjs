{"version":3,"sources":["content/users/user/user.jsx","content/users/users.jsx","content/users/usersSelectors.js","content/users/usersContainer.js"],"names":["User","props","imgStyle","background","img","backgroundPosition","backgroundSize","backgroundRepeat","className","to","id","style","isAuth","followed","disabled","followRequest","some","onClick","unfollowThunk","followThunk","name","status","Users","pageCount","Math","ceil","usersCount","pageSize","portionCount","portionSize","leftPage","currentPortion","rightPage","pages","i","push","loading","users","map","u","toggleFollowRequest","photos","small","setCurrentPortion","filter","currentPage","pageChange","getIsAuth","state","auth","getUsers","getPageSize","getUsersCount","getCurrentPage","getCurrentPortion","getPortionSize","getLoading","getFollowRequest","UsersContainer","setCurrentPage","getUsersThunk","this","React","Component","mapDispatchToProps","connect"],"mappings":"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","file":"static/js/8.4b36cb12.chunk.js","sourcesContent":["import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\n\tconst User = (props) => {\r\n\r\n\t\tconst imgStyle = {\r\n\t\t\tbackground: 'url('+props.img +')',\r\n\t\t\tbackgroundPosition: \"center\",\r\n\t\t\tbackgroundSize: \"cover\",\r\n\t\t\tbackgroundRepeat: \"no-repeat\",\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"user\">\r\n\t\t\t\t<div className=\"user__firstcolumn\">\r\n\t\t\t\t\t<NavLink to={\"/profile/\" + props.id} style={imgStyle} className=\"user__avatar\"></NavLink>\r\n\t\t\t\t\t{props.isAuth && <div>\r\n\t\t\t\t\t\t{props.followed\r\n\t\t\t\t\t\t\t? <button disabled={props.followRequest.some(id => id == props.id)} onClick={() => props.unfollowThunk(props.id)} className={props.followRequest.some(id => id == props.id) ? \"disabled user__follow posts__button\" : \"user__follow posts__button\"}>Unfollow</button> \r\n\t\t\t\t\t\t\t: <button disabled={props.followRequest.some(id => id == props.id)} onClick={() => props.followThunk(props.id)} className={props.followRequest.some(id => id == props.id) ? \"disabled user__follow posts__button\" : \"user__follow posts__button\"}>Follow</button>}\r\n\t\t\t\t\t</div>}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"user__secondcolumn\">\r\n\t\t\t\t\t<div className=\"user__info\">\r\n\t\t\t\t\t\t<div className=\"user__name\">{props.name}</div>\r\n\t\t\t\t\t\t<div className=\"user__status\">{props.status}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"user__location\">\r\n\t\t\t\t\t\t<div className=\"user__country\">{\"props.country,\"}</div>\r\n\t\t\t\t\t\t<div className=\"user__city\">{\"props.city\"}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\nexport default User;","import React from 'react';\r\nimport './users.css';\r\nimport User from './user/user.jsx';\r\n\r\nconst Users = (props) => {\r\n\tlet pageCount = Math.ceil(props.usersCount / props.pageSize);\r\n\tlet portionCount = Math.ceil(pageCount/ props.portionSize);\r\n\tlet leftPage = (props.currentPortion - 1) * props.portionSize + 1;\r\n\tlet rightPage = props.currentPortion * props.portionSize;\r\n\r\n\tlet pages = [];\r\n\tfor(let i = 1; i <= pageCount; i++){\r\n\t\tpages.push(i);\r\n\t};\r\n\r\n\treturn(\r\n\t\t<div className={props.loading ? 'users load' : 'users'}>\r\n\t\t\t{props.users.map((u) => <User {...props} followRequest={props.followRequest} toggleFollowRequest={props.toggleFollowRequest} followThunk={props.followThunk} unfollowThunk={props.unfollowThunk} id={u.id} followed={u.followed} img={u.photos.small === null ? `https://cdn3.iconfinder.com/data/icons/avatars-round-flat/33/avat-01-512.png` : u.photos.small} name={u.name} status={u.status} loading={props.loading} />)}\r\n\t\t\t<div className=\"paginator\">\r\n\t\t\t\t<div className=\"paginator__button\">\r\n\t\t\t\t\t{props.currentPortion > 1 && <button onClick={() => {props.setCurrentPortion(props.currentPortion - 1)}} >Prev</button>}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"paginator__pages\">\r\n\t\t\t\t\t{pages.filter(i => i >= leftPage && i <= rightPage).map(i => <button className={props.currentPage === i && 'selected'} onClick={() => {props.pageChange(i)}}>{i}</button>)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"paginator__button\">\r\n\t\t\t\t\t{props.currentPortion < portionCount && <button onClick={() => {props.setCurrentPortion(props.currentPortion + 1)}} >Next</button>}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\nexport default Users;\r\n","export const getIsAuth = (state) => {\r\n\treturn state.auth.auth;\r\n}\r\n\r\nexport const getUsers = (state) => {\r\n\treturn state.users.users;\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n\treturn state.users.pageSize;\r\n}\r\n\r\nexport const getUsersCount = (state) => {\r\n\treturn state.users.usersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n\treturn state.users.currentPage;\r\n}\r\n\r\nexport const getCurrentPortion = (state) => {\r\n\treturn state.users.currentPortion;\r\n}\r\n\r\nexport const getPortionSize = (state) => {\r\n\treturn state.users.portionSize;\r\n}\r\n\r\nexport const getLoading = (state) => {\r\n\treturn state.users.loading;\r\n}\r\n\r\nexport const getFollowRequest = (state) => {\r\n\treturn state.users.followRequest;\r\n}\r\n\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {setCurrentPage, setCurrentPortion, getUsersThunk, unfollowThunk, followThunk} from '../../redux/usersReducer.js';\r\nimport Users from './users.jsx';\r\nimport Loading from '../../tools/loading.jsx';\r\nimport {getIsAuth, getUsers,getPageSize,getUsersCount,getCurrentPage,getCurrentPortion,getPortionSize,getLoading,getFollowRequest} from './usersSelectors.js';\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n\tcomponentDidMount(){\r\n\t\tthis.props.getUsersThunk(this.props.currentPage, this.props.pageSize);\r\n\t}\r\n\r\n\tpageChange = (i) => {\r\n\t\tthis.props.setCurrentPage(i);\r\n\t\tthis.props.getUsersThunk(i, this.props.pageSize);\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn\tthis.props.loading ? <Loading /> : <Users {...this.props} pageChange = {this.pageChange} />\r\n\t\t\t\t}\r\n\t\t}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: getIsAuth(state),\r\n\t\tusers: getUsers(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\tusersCount: getUsersCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tcurrentPortion: getCurrentPortion(state),\r\n\t\tportionSize: getPortionSize(state),\r\n\t\tloading: getLoading(state),\r\n\t\tfollowRequest: getFollowRequest(state),\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {setCurrentPage, setCurrentPortion, getUsersThunk, unfollowThunk, followThunk};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersContainer);\r\n"],"sourceRoot":""}