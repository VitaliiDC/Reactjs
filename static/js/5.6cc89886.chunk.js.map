{"version":3,"sources":["tools/validation.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","tools/forms.jsx","content/login/login.jsx","content/login/loginSelectors.js","content/login/loginContainer.jsx"],"names":["didTouch","value","maxLength","length","minLength","_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","Input","input","meta","props","className","touched","error","reduxForm","form","onSubmit","handleSubmit","Field","name","type","component","validate","placeholder","captcha","captchaFocus","src","captchaUrl","autocomplete","onFocus","captchaFocusChange","onBlur","htmlFor","getCapthcaUrl","state","auth","getCaptcha","getId","id","getAuth","loginContainer","setState","this","isAuth","to","data","loginThunk","email","password","remember","reset","React","Component","mapDispatchToProps","compose","connect"],"mappings":"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","file":"static/js/5.6cc89886.chunk.js","sourcesContent":["export const didTouch = (value) => {\r\n\tif(!value) return 'Field is required';\r\n\treturn undefined;\r\n}\r\n\r\nexport const maxLength = (length) => (value) => {\r\n\tif(value){\r\n\t\tif(value.length > length) return `Max length is ${length}`;\r\n\t\treturn undefined;\r\n\t}\r\n}\r\n\r\nexport const minLength = (length) => (value) => {\r\n\tif(value){\r\n\t\tif(value.length < length) return `Min length is ${length}`;\r\n\t\treturn undefined;\r\n\t}\r\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from 'react';\r\nimport './forms.css';\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n\treturn (\r\n\t\t<div className={\"form__input\" + ' ' + (meta.touched && meta.error ? 'error' : '')}>\r\n\t\t\t<input {...input} {...props} />\r\n\t\t\t<span>{meta.error}</span>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n","import React from 'react';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport './login.css';\r\nimport {Input} from '../../tools/forms.jsx';\r\nimport {didTouch, minLength} from '../../tools/validation.js';\r\n\r\nconst Login = (props) => {\r\n\r\n\treturn (\r\n\t\t<div className=\"login__block\">\r\n\t\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t\t<div className=\"login__login\">\r\n\t\t\t\t\t<Field name=\"email\" type=\"email\" component={Input} validate={[didTouch]} placeholder=\"email\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"login__password\">\r\n\t\t\t\t\t<Field name=\"password\" type=\"password\" component={Input}  validate={[didTouch]} placeholder=\"password\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t{props.captcha && <div className=\"login__captcha\">\r\n\t\t\t\t\t<div className={\"login__captcha--bg\" + ' ' + (props.captchaFocus ? 'active' : '')}><img src={props.captchaUrl} /></div>\r\n\t\t\t\t\t<div className=\"login__captcha--field\"><Field name=\"captcha\" type=\"text\" component={Input} autocomplete=\"off\" placeholder=\"code\" onFocus={() => props.captchaFocusChange(true)} onBlur={() => props.captchaFocusChange(false)} /></div>\r\n\t\t\t\t</div>}\r\n\t\t\t\t<div className=\"login__remember\">\r\n\t\t\t\t\t<Field name=\"remember\" type=\"checkbox\" component=\"input\" />\r\n\t\t\t\t\t<label htmlFor=\"remember\" >Remember me</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{props.error && \r\n\t\t\t\t<div className=\"login__custom\">\r\n\t\t\t\t\t{props.error}\r\n\t\t\t\t</div>}\r\n\t\t\t\t<div className=\"login__btn\">\r\n\t\t\t\t\t<button>Sign in</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default reduxForm({form: 'login'})(Login);","export const getCapthcaUrl = (state) => {\r\n\treturn state.auth.captchaUrl;\r\n}\r\n\r\nexport const getCaptcha = (state) => {\r\n\treturn state.auth.captcha;\r\n}\r\n\r\nexport const getId = (state) => {\r\n\treturn state.auth.id;\r\n}\r\n\r\nexport const getAuth = (state) => {\r\n\treturn state.auth.auth;\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {compose} from 'redux';\r\nimport Login from './login.jsx';\r\nimport {loginThunk} from '../../redux/authReducer.js';\r\nimport {reset} from 'redux-form';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {getCapthcaUrl,getCaptcha,getId,getAuth} from './loginSelectors.js';\r\n\r\nclass loginContainer extends React.Component{\r\n\r\n\tstate = {\r\n\t\tcaptchaFocus: false,\r\n\t}\r\n\r\n\tcaptchaFocusChange = (value) => {\r\n\t\tthis.setState({\r\n\t\t\tcaptchaFocus: value,\r\n\t\t});\r\n\t}\r\n\r\n\trender(){\r\n\t\tif(this.props.isAuth) return <Redirect to={'/profile/' + this.props.id} />\r\n\t\treturn <Login {...this.state} captchaFocusChange={this.captchaFocusChange} onSubmit={(data) => {this.props.loginThunk(data.email, data.password, data.remember, data.captcha); this.props.reset('login')}} {...this.props} />\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: getAuth(state),\r\n\t\tid: getId(state),\r\n\t\tcaptcha: getCaptcha(state),\r\n\t\tcaptchaUrl: getCapthcaUrl(state),\r\n\t};\r\n}\r\nconst mapDispatchToProps = {loginThunk, reset};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(loginContainer);\r\n\r\n"],"sourceRoot":""}