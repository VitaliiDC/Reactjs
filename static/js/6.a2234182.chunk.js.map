{"version":3,"sources":["hoc/withAuthRedirect.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","content/profile/post/post.jsx","content/profile/profile.jsx","content/profile/profileSelectors.js","content/profile/profileContainer.jsx"],"names":["mapStateToPropsRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","Post","className","text","like","AddPostRedux","reduxForm","form","onSubmit","handleSubmit","Field","onKeyDown","e","keyCode","preventDefault","name","component","placeholder","Profile","postMap","posts","map","post","imgStyle","background","img","loading","style","profile","fullName","statusEdit","ownId","match","params","id","onChange","currentTarget","changeStatus","autoFocus","setStatusEdit","putStatusThunk","status","onBlur","onClick","aboutMe","data","textarea","trim","addPost","reset","getProfile","getStatus","getLoading","getPosts","getId","ProfileContainer","memo","console","log","useState","useEffect","setProfileThunk","getStatusThunk","photos","large","mapDispatchToProps","compose","withRouter"],"mappings":"2KAIMA,EAA0B,SAACC,GAChC,MAAO,CACNC,OAAQD,EAAME,KAAKA,OAiBNC,IAbU,SAACC,GAAe,IAClCC,EADiC,uKAGrC,OAAIC,KAAKC,MAAMN,OACR,kBAACG,EAAcE,KAAKC,OADG,kBAAC,IAAD,CAAUC,GAAG,eAHN,GACPC,IAAML,WAStC,OAFsBM,YAAQX,EAARW,CAAiCL,K,+ECdzC,SAASM,EAAeC,EAAKC,GAC1C,OCLa,SAAyBD,GACtC,GAAIE,MAAMC,QAAQH,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKC,GACjD,GAAsB,qBAAXG,QAA4BA,OAAOC,YAAYC,OAAON,GAAjE,CACA,IAAIO,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKb,EAAII,OAAOC,cAAmBG,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGK,QAEThB,GAAKM,EAAKW,SAAWjB,GAH8CO,GAAK,IAK9E,MAAOW,GACPV,GAAK,EACLC,EAAKS,EACL,QACA,IACOX,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFnBuB,CAAqBP,EAAKC,IAAM,OAAAmB,EAAA,GAA2BpB,EAAKC,IGLjF,WACb,MAAM,IAAIoB,UAAU,6IHIgF,K,iIIYvFC,G,cAbF,SAAC3B,GAEb,OACC,yBAAK4B,UAAU,QACd,yBAAKA,UAAU,QACd,yBAAKA,UAAU,qBACf,uBAAGA,UAAU,cAAc5B,EAAM6B,OAElC,4BAAQD,UAAU,cAAlB,QAAqC5B,EAAM8B,S,kBC+DxCC,EAAeC,YAAU,CAACC,KAAM,WAAjBD,EAhBL,SAAChC,GAQhB,OACC,0BAAMkC,SAAUlC,EAAMmC,cACrB,kBAACC,EAAA,EAAD,CAAOC,UATgB,SAACC,GACT,IAAbA,EAAEC,UACJvC,EAAMmC,eACNG,EAAEE,mBAMkCC,KAAK,WAAWC,UAAU,WAAWC,YAAY,iBACrF,4BAAQf,UAAU,iBAAlB,YAOYgB,EAvEC,SAAC5C,GAEhB,IAAI6C,EAAU7C,EAAM8C,MAAMC,KAAI,SAACC,GAAD,OAAU,kBAAC,EAAD,CAAMlB,KAAMkB,EAAKlB,KAAMD,KAAMmB,EAAKnB,UAsBpEoB,EAAW,CACfC,WAAY,OAAOlD,EAAMmD,IAAK,qCAGhC,OACC,yBAAKvB,UAAW5B,EAAMoD,QAAU,eAAiB,WAChD,yBAAKxB,UAAU,OACd,yBAAKA,UAAU,QACf,yBAAKA,UAAU,QACd,yBAAKyB,MAAOJ,EAAUrB,UAAU,WAChC,yBAAKA,UAAU,UACd,yBAAKA,UAAU,QAAQ5B,EAAMsD,QAAQC,UACpCvD,EAAMwD,YAAcxD,EAAMyD,OAASzD,EAAM0D,MAAMC,OAAOC,GAAK,2BAAOhC,UAAU,sBAAsBiC,SAzBxF,SAACvB,GACbA,EAAEwB,cAAcxC,MAAMC,QAAU,IAClCvB,EAAM+D,aAAazB,EAAEwB,cAAcxC,QAuBwF0C,WAAS,EAAC3B,UAnBjH,SAACC,GACL,KAAdA,EAAEC,UACJvC,EAAMiE,eAAc,GACpBjE,EAAMkE,eAAelE,EAAMmE,UAgBsIC,OAAQ,WAAOpE,EAAMiE,eAAc,GAAQjE,EAAMkE,eAAelE,EAAMmE,SAAU7C,MAAOtB,EAAMmE,SAAa,uBAAGvC,UAAU,SAASyC,QAAS,kBAAMrE,EAAMiE,eAAc,KAAQjE,EAAMmE,QAC/U,6BAAMnE,EAAMsD,QAAQgB,WAGtB,yBAAK1C,UAAU,SACd,uCACA,kBAACG,EAAD,eAAcG,SAAU,SAAAqC,GAAI,OAtCnB,SAACA,GACc,IAAxBA,EAAKC,SAASC,SAChBzE,EAAM0E,QAAQH,EAAKC,UACnBxE,EAAM2E,MAAM,YAmCsBD,CAAQH,KAAWvE,KAEpD,yBAAK4B,UAAU,QACbiB,M,gDCnDO+B,EAAa,SAACnF,GAC1B,OAAOA,EAAM6D,QAAQA,SAGTuB,EAAY,SAACpF,GACzB,OAAOA,EAAM6D,QAAQa,QAGTW,EAAa,SAACrF,GAC1B,OAAOA,EAAM6D,QAAQF,SAGT2B,EAAW,SAACtF,GACxB,OAAOA,EAAM6D,QAAQR,OAGTkC,EAAQ,SAACvF,GACrB,OAAOA,EAAME,KAAKiE,ICLbqB,EAAmB/E,IAAMgF,MAAK,SAAClF,GACpCmF,QAAQC,IAAI,WADkC,MAGZC,oBAAS,GAHG,mBAGzC7B,EAHyC,KAG7BS,EAH6B,KAK1CL,EAAK5D,EAAM0D,MAAMC,OAAOC,GAQ5B,OANA0B,qBAAU,WACTtF,EAAMuF,gBAAgB3B,GACtB5D,EAAMwF,eAAe5B,GACrBK,GAAc,KACZ,CAACL,IAEG,qCAAI5D,EAAMsD,SAAWtD,EAAMoD,QAAU,kBAAC,IAAD,MAAc,kBAAC,EAAD,iBAAapD,EAAb,CAAoBwD,WAAYA,EAAYS,cAAeA,EAAeC,eAAgBlE,EAAMkE,eAAgBf,IAAMnD,EAAMsD,QAAQmC,OAAOC,MAAyF1F,EAAMsD,QAAQmC,OAAOC,MAApI,sFAa1KC,EAAqB,CAACjB,YAASa,oBAAiBxB,iBAAcyB,mBAAgBtB,mBAAgBS,WAErFiB,sBACdzF,aAbuB,SAACV,GACxB,MAAO,CACN6D,QAASsB,EAAWnF,GACpB0E,OAAQU,EAAUpF,GAClB2D,QAAS0B,EAAWrF,GACpBqD,MAAOiC,EAAStF,GAChBgE,MAAOuB,EAAMvF,MAOWkG,GACzBE,IACAjG,IAHcgG,CAIbX","file":"static/js/6.a2234182.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nconst mapStateToPropsRedirect = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.auth,\r\n\t}\r\n};\r\n\r\nconst withAuthRedirect = (Component) => {\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender(){\r\n\t\t\tif(!this.props.isAuth) return <Redirect to='/login' />\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\r\n\tlet connectRedirect = connect(mapStateToPropsRedirect)(RedirectComponent);\r\n\r\n\treturn connectRedirect;\r\n}\r\n\r\nexport default withAuthRedirect;\r\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from 'react';\r\nimport './post.css';\r\n\r\n\r\nconst Post = (props) => {\r\n\r\n\treturn(\r\n\t\t<div className=\"post\">\r\n\t\t\t<div className=\"flex\">\r\n\t\t\t\t<div className=\"avatar avatar--p\"></div>\r\n\t\t\t\t<p className=\"post__text\">{props.text}</p>\r\n\t\t\t</div>\r\n\t\t\t<button className=\"post__like\">Like {props.like}</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Post;","import React from 'react';\r\nimport './profile.css';\r\nimport Post from './post/post.jsx';\r\nimport {Field, reduxForm} from 'redux-form';\r\n\r\n\r\nconst Profile = (props) => {\r\n\t\r\n\tlet postMap = props.posts.map((post) => <Post like={post.like} text={post.text} />);\r\n\r\n\tlet addPost= (data) => {\r\n\t\tif(data.textarea.trim() != ''){\r\n\t\t\tprops.addPost(data.textarea);\r\n\t\t\tprops.reset('addPost');\r\n\t\t}\r\n\t}\r\n\t\r\n\tlet inputText = (e) => {\r\n\t\tif(e.currentTarget.value.length <= 50){\r\n\t\t\tprops.changeStatus(e.currentTarget.value);\r\n\t\t}\r\n\t}\r\n\r\n\tlet onKeyDownStatus = (e) => {\r\n\t\tif(e.keyCode === 13){\r\n\t\t\tprops.setStatusEdit(false);\r\n\t\t\tprops.putStatusThunk(props.status);\r\n\t\t}\r\n\t}\r\n\r\n\tconst imgStyle = {\r\n\t\t\tbackground: 'url('+props.img +') center center / cover no-repeat',\r\n\t\t}\r\n\r\n\treturn(\r\n\t\t<div className={props.loading ? 'content load' : 'content'}>\r\n\t\t\t<div className=\"net\">\r\n\t\t\t\t<div className=\"top\"></div>\r\n\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t<div style={imgStyle} className=\"avatar\"></div>\r\n\t\t\t\t\t<div className=\"others\">\r\n\t\t\t\t\t\t<div className=\"name\">{props.profile.fullName}</div>\r\n\t\t\t\t\t\t{props.statusEdit && props.ownId == props.match.params.id ? <input className=\"status status--edit\" onChange={inputText} autoFocus onKeyDown={onKeyDownStatus} onBlur={() => {props.setStatusEdit(false); props.putStatusThunk(props.status)}} value={props.status} /> : <p className=\"status\" onClick={() => props.setStatusEdit(true)}>{props.status}</p>}\r\n\t\t\t\t\t\t<div>{props.profile.aboutMe}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"posts\">\r\n\t\t\t\t\t<p>My posts</p>\r\n\t\t\t\t\t<AddPostRedux onSubmit={data => addPost(data)} {...props} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"news\">\r\n\t\t\t\t\t{postMap}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n\r\nconst AddPost = (props) => {\r\n\tconst onKeyDownAddPost = (e) => {\r\n\t\tif(e.keyCode == 13){\r\n\t\t\tprops.handleSubmit();\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<Field onKeyDown={onKeyDownAddPost} name=\"textarea\" component=\"textarea\" placeholder=\"your news...\" />\r\n\t\t\t<button className=\"posts__button\">Send</button>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst AddPostRedux = reduxForm({form: 'addPost'})(AddPost);\r\n\r\nexport default Profile;","export const getProfile = (state) => {\r\n\treturn state.profile.profile;\r\n}\r\n\r\nexport const getStatus = (state) => {\r\n\treturn state.profile.status;\r\n}\r\n\r\nexport const getLoading = (state) => {\r\n\treturn state.profile.loading;\r\n}\r\n\r\nexport const getPosts = (state) => {\r\n\treturn state.profile.posts;\r\n}\r\n\r\nexport const getId = (state) => {\r\n\treturn state.auth.id;\r\n}\r\n","import React, {useState, useEffect} from 'react';\r\nimport {addPost, setProfileThunk, changeStatus, getStatusThunk, putStatusThunk} from '../../redux/profileReducer.js';\r\nimport {connect} from 'react-redux';\r\nimport Profile from './profile.jsx';\r\nimport * as axios from 'axios';\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport withAuthRedirect from '../../hoc/withAuthRedirect.js';\r\nimport {compose} from 'redux';\r\nimport {reset} from 'redux-form';\r\nimport Loading from '../../tools/loading.jsx';\r\nimport {getProfile, getStatus, getLoading, getInfo, getPosts, getId} from './profileSelectors.js';\r\n\r\nconst ProfileContainer = React.memo((props) => {\r\n\tconsole.log('profile');\r\n\t\r\n\tlet [statusEdit, setStatusEdit] = useState(false);\r\n\r\n\tlet id = props.match.params.id;\r\n\t\r\n\tuseEffect(() => {\r\n\t\tprops.setProfileThunk(id);\r\n\t\tprops.getStatusThunk(id);\r\n\t\tsetStatusEdit(false);\r\n\t}, [id]);\r\n\r\n\treturn <>{!props.profile || props.loading ? <Loading /> : <Profile {...props} statusEdit={statusEdit} setStatusEdit={setStatusEdit} putStatusThunk={props.putStatusThunk} img={!props.profile.photos.large ? `https://cdn3.iconfinder.com/data/icons/avatars-round-flat/33/avat-01-512.png` : props.profile.photos.large} />}</>\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tprofile: getProfile(state),\r\n\t\tstatus: getStatus(state),\r\n\t\tloading: getLoading(state),\r\n\t\tposts: getPosts(state),\r\n\t\townId: getId(state),\r\n\t}\r\n};\r\n\r\nconst mapDispatchToProps = {addPost, setProfileThunk, changeStatus, getStatusThunk, putStatusThunk, reset};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\twithRouter,\r\n\twithAuthRedirect,\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}