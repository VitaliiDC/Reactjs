{"version":3,"sources":["logo.svg","redux/newsReducer.js","redux/appReducer.js","redux/reduxStore.js","content/sidebar/sidebar.jsx","content/sidebar/sidebarContainer.jsx","header/header.jsx","header/authContainer.jsx","App.js","serviceWorker.js","index.js","redux/authReducer.js","tools/loading.jsx","redux/profileReducer.js","api/api.js","redux/dialogsReducer.js","tools/functions.js","redux/usersReducer.js"],"names":["module","exports","initialState","new","id","text","following","title","date","imgUrl","newsReducer","state","action","type","initialized","appReducer","reducers","combineReducers","profile","profileReducer","dialogs","dialogsReducer","users","usersReducer","news","auth","authReducer","form","formReducer","app","store","createStore","applyMiddleware","thunkMiddleWare","window","Sidebar","props","className","to","SidebarContainer","this","React","Component","compose","connect","Header","href","src","login","AuthContainer","ProfileContainer","lazy","DialogsContainer","UsersContainer","NewsContainer","LoginContainer","SettingsContainer","App","renderSuspense","Сomponent","Suspense","fallback","initializationThunk","render","path","mapDispatchToProps","dispatch","promise","setUserThunk","Promise","all","then","AppContainer","withRouter","MainApp","Boolean","location","hostname","match","unregister","navigator","serviceWorker","ready","registration","catch","error","console","message","ReactDOM","document","getElementById","subscribe","email","captcha","captchaUrl","setUser","data","setCaptcha","value","setCaptchaUrl","a","api","getAuth","resultCode","loginThunk","password","remember","responce","stopSubmit","_error","url","logoutThunk","logout","putPhotoThunk","putPhoto","Loading","posts","like","info","name","birth","city","education","web","loading","status","addPost","toggleLoading","changeStatus","setProfileThunk","setProfile","getStatusThunk","getStatus","putStatusThunk","putStatus","instance","axios","withCredentials","baseURL","headers","getUsers","currentPage","pageSize","get","response","postFollow","post","deleteFollow","delete","put","file","image","messages","names","addMessage","followUnfollow","items","itemId","map","u","usersCount","currentPortion","portionSize","followRequest","follow","userId","unfollow","setCurrentPage","setCurrentPortion","toggleFollowRequest","getUsersThunk","totalCount","followUnfollowThunk","followThunk","unfollowThunk","followed","filter"],"mappings":"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","file":"static/js/main.d1b5d92b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","let initialState = {\r\n\tnew: [\r\n\t\t{id: 1, text: 'Lorem ipsum dolor Lorem ipsum dolor Lorem ipsum dolor Lorem ipsum dolor Lorem ipsum dolor Lorem ipsum dolor Lorem ipsum dolor',\r\n\t\t following: false, title: 'Lorem ipsum', date: '07.20.2020',\r\n\t\t imgUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/BBC_News_%282008%29.svg/1200px-BBC_News_%282008%29.svg.png'}\r\n\t],\r\n};\r\n\r\nlet newsReducer = (state = initialState, action) => {\r\n\tswitch(action.type){\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default newsReducer;","import {setUserThunk} from './authReducer.js';\r\n\r\nlet initialState = {\r\n\tinitialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch(action.type){\r\n\t\tcase 'initialization':\r\n\t\t\treturn {...state, initialized: true}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const initialization = () => ({type: 'initialization'});\r\n\r\nexport const initializationThunk = () => (dispatch) => {\r\n\tlet promise = dispatch(setUserThunk());\r\n\r\n\tPromise.all([promise]).then(() => {\r\n\t\tdispatch(initialization());\r\n\t});\r\n\r\n}\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport profileReducer from './profileReducer.js';\r\nimport dialogsReducer from './dialogsReducer.js';\r\nimport usersReducer from './usersReducer.js';\r\nimport newsReducer from './newsReducer.js';\r\nimport authReducer from './authReducer.js';\r\nimport thunkMiddleWare from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from './appReducer.js';\r\n\r\nlet reducers = combineReducers({\r\n\tprofile: profileReducer,\r\n\tdialogs: dialogsReducer,\r\n\tusers: usersReducer,\r\n\tnews: newsReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer,\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleWare));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport './sidebar.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst Sidebar = (props) => {\r\n\treturn(\r\n\t\t<div className=\"sideBar\">\r\n\t\t\t<nav>\r\n\t\t\t\t<ul className=\"list\">\r\n\t\t\t\t\t<li><NavLink to={\"/profile/\" + props.id} className=\"link\">Profile</NavLink></li>\r\n\t\t\t\t\t<li><NavLink to=\"/dialogs\" className=\"link\">Messages</NavLink></li>\r\n\t\t\t\t\t<li><NavLink to=\"/users\" className=\"link\">Friends</NavLink></li>\r\n\t\t\t\t\t<li><NavLink to=\"/news\" className=\"link\">News</NavLink></li>\r\n\t\t\t\t\t<li><NavLink to=\"\" className=\"link\">Music</NavLink></li>\r\n\t\t\t\t\t<li><NavLink to=\"/settings\" className=\"link\">Settings</NavLink></li>\r\n\t\t\t\t</ul>\r\n\t\t\t</nav>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Sidebar;","import React from 'react';\r\nimport Sidebar from './sidebar.jsx';\r\nimport {compose} from 'redux';\r\nimport {connect} from 'react-redux';\r\n\r\nclass SidebarContainer extends React.Component{\r\n\trender(){\r\n\t\treturn <Sidebar {...this.props} />\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn ({\r\n\t\tid: state.auth.id,\r\n\t});\r\n}\r\n\r\nconst mapDispatchToProps = {};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(SidebarContainer);","import React from 'react';\r\nimport './header.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n  return (\r\n  \t<header className=\"header\">\r\n  \t\t<a href=\"#\" className=\"logo\"><img src=\"https://image.flaticon.com/icons/svg/2965/2965289.svg\"/></a>\r\n  \t\t{!props.auth ? <NavLink to=\"/login\" className=\"login\">Login</NavLink> : <div className=\"login\">{props.login}</div>}\r\n  \t</header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Header from './header.jsx';\r\nimport api from '../api/api.js';\r\n\r\nclass AuthContainer extends React.Component{\r\n\trender(){\r\n\t\treturn <Header {...this.props} />\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tauth: state.auth.auth,\r\n\t\tlogin: state.auth.login,\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(AuthContainer);","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport store from './redux/reduxStore.js';\nimport {withRouter, Route, BrowserRouter} from 'react-router-dom';\nimport {Provider, connect} from 'react-redux';\nimport {compose} from 'redux';\nimport {initializationThunk} from './redux/appReducer.js';\nimport Loading from './tools/loading.jsx';\nimport SidebarContainer from './content/sidebar/sidebarContainer.jsx';\nimport AuthContainer from './header/authContainer.jsx';\nconst ProfileContainer = React.lazy(() => import('./content/profile/profileContainer.jsx'));\nconst DialogsContainer = React.lazy(() => import('./content/dialogs/dialogsContainer.jsx'));\nconst UsersContainer = React.lazy(() => import('./content/users/usersContainer.js'));\nconst NewsContainer = React.lazy(() => import('./content/news/newsContainer.js'));\nconst LoginContainer = React.lazy(() => import('./content/login/loginContainer.jsx'));\nconst SettingsContainer = React.lazy(() => import('./content/setting/settingsContainer.jsx'));\n\nclass App extends React.Component{\n  componentDidMount(){\n    this.props.initializationThunk();\n  }\n  renderSuspense = (Сomponent) => {\n    return <React.Suspense fallback={<Loading />}>\n      <Сomponent />\n    </React.Suspense>\n  }\n  render(){\n    if(!this.props.app.initialized){ \n      return <Loading />\n    }else{ \n     return (\n      <div className=\"wrapper\">\n        <AuthContainer />\n        <div className=\"flex\">\n          <SidebarContainer />\n          <Route render={() => this.renderSuspense(DialogsContainer)} path=\"/dialogs\" />\n          <Route render={() => this.renderSuspense(ProfileContainer)} path=\"/profile/:id\" />\n          <Route render={() => this.renderSuspense(UsersContainer)} path=\"/users\" />\n          <Route render={() => this.renderSuspense(NewsContainer)} path=\"/news\" />\n          <Route render={() => this.renderSuspense(LoginContainer)} path=\"/login\" />\n          <Route render={() => this.renderSuspense(SettingsContainer)} path=\"/settings\" />\n        </div>\n      </div>\n    )}\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    app: state.app,\n  }\n}\nconst mapDispatchToProps = {initializationThunk};\n\nconst AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, mapDispatchToProps),\n)(App);\n\nconst MainApp = (props) => {\n  return (\n  <BrowserRouter>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </BrowserRouter>\n)}\n\nexport default MainApp;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './redux/reduxStore.js';\n\nlet render = () => {\n\tReactDOM.render(\n\t\t<MainApp />\n\t\t,document.getElementById('root')\n\t);\n}\n\nstore.subscribe(render);\nrender();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import api from '../api/api.js';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nlet initialState = {\r\n\tid: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tauth: false,\r\n\tcaptcha: false,\r\n\tcaptchaUrl: '',\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch(action.type){\r\n\t\tcase 'setUser':\r\n\t\t\treturn {...state, ...action.data, auth: action.auth};\r\n\t\tcase 'setCaptcha':\r\n\t\t\treturn {...state, captcha: action.value}\r\n\t\tcase 'setCaptchaUrl':\r\n\t\t\treturn {...state, captchaUrl: action.value}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const setUser = (id, email, login, auth) => ({type: 'setUser', data:{id, email, login}, auth});\r\nexport const setCaptcha = (value) => ({type: 'setCaptcha', value});\r\nexport const setCaptchaUrl = (value) => ({type: 'setCaptchaUrl', value});\r\n\r\nexport const setUserThunk = () => async (dispatch) => {\r\n\tlet data = await api.getAuth();\r\n\tif(data.resultCode === 0){\r\n\t\tdispatch(setUser(data.data.id, data.data.email, data.data.login, true));\r\n\t}\r\n}\r\n\r\nexport const loginThunk = (email, password, remember = false, captcha) => async (dispatch) => {\r\n\tlet responce = await api.login(email, password, remember, captcha);\r\n\tif(responce.data.resultCode === 0){\r\n\t\tdispatch(setUserThunk());\r\n\t}else if(responce.data.resultCode === 1){\r\n\t\tdispatch(stopSubmit('login', {_error: 'email or password is incorrect*'}))\r\n\t}else if(responce.data.resultCode === 10){\r\n\t\tapi.captcha().then(responce => {dispatch(setCaptchaUrl(responce.data.url)); dispatch(setCaptcha(true))});\r\n\t}\r\n}\r\n\r\nexport const logoutThunk = () => async (dispatch) => {\r\n\tlet responce = await api.logout();\r\n\tif(responce.data.resultCode === 0){\r\n\t\tdispatch(setUser(null, null, null, false));\r\n\t}\r\n}\r\n\r\nexport const putPhotoThunk = (url) => (dispatch) => {\r\n\tapi.putPhoto(url);\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\n\r\nconst Loading = () => {\r\n\treturn <div className=\"load\"><div className=\"loading\"><span></span><span></span><span></span></div></div>\r\n}\r\n\r\nexport default Loading;","import api from '../api/api.js';\r\n\r\nlet initialState = {\r\n\tposts: [\r\n\t\t{text: 'Hello', like: 0},\r\n\t\t{text: 'Lorem ipsum dolor', like: 0},\r\n\t],\r\n\tinfo: {name: 'Sonya', birth: '2 august', city: 'Lviv', education: 'designer', web: 'https://www.youtube.com'},\r\n\tprofile: null,\r\n\tloading: false,\r\n\tstatus: '',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\tswitch(action.type){\r\n\t\tcase 'addPost':\r\n\t\t\treturn {...state, posts: [...state.posts, {text: action.text, like: 0}]}\r\n\t\tcase 'setProfile':\r\n\t\t\treturn {...state, profile: action.profile}\r\n\t\tcase 'toggleLoading':\r\n\t\t\treturn {...state, loading: action.loading}\r\n\t\tcase 'changeStatus':\r\n\t\t\treturn {...state, status: action.text};\r\n\t\tdefault: \r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const addPost = (text) => ({type: 'addPost', text});\r\nexport const setProfile = (profile) => ({type: 'setProfile', profile});\r\nexport const toggleLoading = (loading) => ({type: 'toggleLoading', loading});\r\nexport const changeStatus = (text) => ({type: 'changeStatus', text});\r\n\r\nexport const setProfileThunk = (id) => async (dispatch) => {\r\n\t\tdispatch(toggleLoading(true));\r\n\t\tlet data = await api.setProfile(id);\r\n\t\tdispatch(toggleLoading(false));\r\n\t\tdispatch(setProfile(data));\r\n};\r\n\r\nexport const getStatusThunk = (id) => async (dispatch) => {\r\n\t\tlet responce = await api.getStatus(id);\r\n\t\tdispatch(changeStatus(responce));\r\n}\r\n\r\nexport const putStatusThunk = (status) => (dispatch) => {\r\n\t\tapi.putStatus(status);\r\n\t}\r\n\r\nexport default profileReducer;","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n\theaders: {\r\n\t\t\"API-KEY\": \"615e5fb1-6a05-4b09-bfd4-138486b94864\"\r\n\t}\r\n});\r\n\r\nconst api = {\r\n\tgetUsers(currentPage = 1, pageSize = 3){return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data)},\r\n\tpostFollow(id){return instance.post(`follow/${id}`).then(response => response.data)},\r\n\tdeleteFollow(id){return instance.delete(`follow/${id}`).then(response => response.data)},\r\n\tsetProfile(id){return instance.get(`profile/${id}`).then(response => response.data)},\r\n\tgetStatus(id){return instance.get(`profile/status/${id}`).then(response => response.data)},\r\n\tputStatus(status){return instance.put(`profile/status`, {status: status})},\r\n\tgetAuth(){return instance.get(`auth/me`).then(response => response.data)},\r\n\tlogin(email, password, remember, captcha){return instance.post(`auth/login`, {email, password, remember, captcha})},\r\n\tlogout(){return instance.delete(`auth/login`)},\r\n\tcaptcha(){return instance.get(`security/get-captcha-url`)},\r\n\tputPhoto(file){debugger; return instance.put(`profile/photo`, {image: file})},\r\n}\r\n\r\nexport default api;\r\n","let initialState = {\r\n\tmessages: [{name: 'Sophia', text: 'Hello'},],\r\n\tnames: [{id: 1, name: 'Sonya'},],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n\tswitch(action.type){\r\n\t\tcase 'addMessage':\r\n\t\t\treturn {...state, messages: [...state.messages, {name: 'Sophia', text: action.text}]}\r\n\t\tdefault: \r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const addMessage = (text) => ({type: 'addMessage', text});\r\n\r\nexport default dialogsReducer;\r\n","export const followUnfollow = (items, id, itemId, props) => {\r\n\treturn items.map((u) => {\r\n\t\tif(u.[id] === itemId){\r\n\t\t\treturn {...u, ...props};\r\n\t\t}\r\n\t\treturn u;\r\n\t})\r\n}","import api from '../api/api.js';\r\nimport {followUnfollow} from '../tools/functions.js';\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 3,\r\n\tusersCount: 0,\r\n\tcurrentPage: 1,\r\n\tcurrentPortion: 1,\r\n\tportionSize: 10,\r\n\tloading: false,\r\n\tfollowRequest: [],\r\n};\r\n\r\nlet usersReducer = (state = initialState, action) => {\r\n\tswitch(action.type){\r\n\t\tcase 'follow':\r\n\t\t\treturn {...state,users: followUnfollow(state.users, 'id', action.userId, {followed: true})}\r\n\t\tcase 'unfollow':\r\n\t\t\treturn {...state,users: followUnfollow(state.users, 'id', action.userId, {followed: false})}\r\n\t\tcase 'setUsers':\r\n\t\t\treturn {...state, users: action.users, usersCount: action.usersCount};\r\n\t\tcase 'setCurrentPage':\r\n\t\t\treturn {...state, currentPage: action.currentPage};\r\n\t\tcase 'setCurrentPortion':\r\n\t\t\treturn {...state, currentPortion: action.currentPortion};\r\n\t\tcase 'toggleLoading':\r\n\t\t\treturn {...state, loading: action.loading};\r\n\t\tcase 'toggleFollowRequest':\r\n\t\t\treturn {...state, followRequest: action.loading ? [...state.followRequest, action.id] : state.followRequest.filter(id => id != action.id)};\r\n\t\tdefault: {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const follow = (userId) => {return {type: 'follow', userId }};\r\nexport const unfollow = (userId) => {return {type: 'unfollow', userId }};\r\nexport const setUsers = (users, usersCount) => {return {type: 'setUsers', users, usersCount }};\r\nexport const setCurrentPage = (currentPage) => {return {type: 'setCurrentPage', currentPage }};\r\nexport const setCurrentPortion = (currentPortion) => {return {type: 'setCurrentPortion', currentPortion }};\r\nexport const toggleLoading = (loading) => {return {type: 'toggleLoading', loading}};\r\nexport const toggleFollowRequest = (loading, id) => {return {type: 'toggleFollowRequest', loading, id}};\r\n\r\nexport const getUsersThunk = (currentPage, pageSize) => async (dispatch) => {\r\n\tdispatch(toggleLoading(true));\r\n\tlet data = await api.getUsers(currentPage, pageSize);\r\n\tdispatch(toggleLoading(false));\r\n\tdispatch(setUsers(data.items, data.totalCount));\r\n}\r\n\r\nconst followUnfollowThunk = async (dispatch, id, api, action) => {\r\n\tdispatch(toggleFollowRequest(true, id));\r\n\tlet data = await api(id);\r\n\tif(data.resultCode == 0){\r\n\t\tdispatch(toggleFollowRequest(false, id));\r\n\t\tdispatch(action(id));\r\n\t}\r\n}\r\n\r\nexport const followThunk = (id) => async (dispatch) => {\r\n\tfollowUnfollowThunk(dispatch, id, api.postFollow, follow);\r\n}\r\n\r\nexport const unfollowThunk = (id) => async (dispatch) => {\r\n\tfollowUnfollowThunk(dispatch, id, api.deleteFollow, unfollow);\r\n}\r\n\r\n\r\nexport default usersReducer;"],"sourceRoot":""}